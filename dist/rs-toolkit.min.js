!function(){"use strict";var t;t||(t=1,function(){const t=window.RS=window.RS||{};t.version=t.version||"0.1.0",t.modules=t.modules||{},t.debug=function(...t){window.RS_DEBUG&&console.log("[RS]",...t)},t.emit=function(t,e={}){document.dispatchEvent(new CustomEvent(t,{detail:e}))},t.register=function(e,o){e&&"function"==typeof o&&(t.modules[e]=o,t.debug("registered:",e))},t.init=function(){t.debug("init start"),Object.entries(t.modules).forEach(([e,o])=>{try{o(),t.debug("init ok:",e)}catch(t){console.error("[RS] init failed:",e,t)}}),t.debug("init done")}}()),function(){if(!window.RS||!window.RS.register)return void console.warn("[RS] core is missing. Include rs-core.min.js first.");const t="[data-rs-modal]",e="[data-rs-modal-open]",o="[data-rs-modal-close]",n="[data-rs-modal-overlay]",r="[data-rs-modal-content]",s="is-open",i="is-modal-open",c=window.CSS&&CSS.escape||function(t){return String(t).replace(/["\\#.:?[\]()\s]/g,"\\$&")};let a=null,l=null;const d={locked:!1,scrollY:0,prev:{}};function u(t){return!!t&&(!!t.hasAttribute("data-rs-modal-lock")&&function(t){const e=String(t||"").toLowerCase().trim();return"true"===e||"1"===e||"yes"===e}(t.getAttribute("data-rs-modal-lock")))}function f(t){if(!t)return[];const e=(t.querySelector(r)||t).querySelectorAll(["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","[tabindex]:not([tabindex='-1'])"].join(","));return Array.from(e).filter(t=>null!==t.offsetParent)}function m(t,e="close"){if(!t)return;t.classList.remove(s),t.setAttribute("aria-hidden","true"),u(t)&&function(){if(!d.locked)return;const t=document.documentElement,e=document.body;e.style.position=d.prev.bodyPosition||"",e.style.top=d.prev.bodyTop||"",e.style.width=d.prev.bodyWidth||"",e.style.overflow=d.prev.bodyOverflow||"",t.style.overflow=d.prev.htmlOverflow||"",t.classList.remove(i),window.scrollTo(0,d.scrollY),d.locked=!1}();const o=t.getAttribute("data-rs-modal")||null;window.RS.emit("rs:modal:close",{id:o,modal:t,reason:e}),l&&"function"==typeof l.focus&&l.focus(),a===t&&(a=null),l=null}function p(t,e=null){if(!t)return;a&&a!==t&&m(a,"switch"),l=e||null,a=t,t.classList.add(s),t.setAttribute("aria-hidden","false"),t.setAttribute("tabindex","-1"),u(t)&&function(){if(d.locked)return;const t=document.documentElement,e=document.body;d.scrollY=window.scrollY||0,d.prev={htmlOverflow:t.style.overflow,bodyPosition:e.style.position,bodyTop:e.style.top,bodyWidth:e.style.width,bodyOverflow:e.style.overflow},e.style.position="fixed",e.style.top=`-${d.scrollY}px`,e.style.width="100%",e.style.overflow="hidden",t.classList.add(i),d.locked=!0}();const o=t.getAttribute("data-rs-modal")||null;window.RS.emit("rs:modal:open",{id:o,modal:t,trigger:e}),setTimeout(()=>function(t){const e=f(t);e.length?e[0].focus():t.focus?.()}(t),0)}function y(t){const e=t.getAttribute("data-rs-modal-open");if(e)return{type:"id",value:e};const o=t.getAttribute("data-rs-modal-target");return o?{type:"selector",value:o}:null}function g(e){return e?"id"===e.type?(o=e.value)?document.querySelector(`${t}[data-rs-modal="${c(o)}"]`):null:"selector"===e.type?document.querySelector(e.value):null:null;var o}window.RS.register("modal",function(){document.addEventListener("click",s=>{const i=s.target.closest(e);if(i){s.preventDefault();const t=g(y(i));return void(t&&p(t,i))}const c=s.target.closest(o);if(c){const e=c.closest(t);return void(e&&m(e,"button"))}const a=s.target.closest(n);if(a){const e=a.closest(t);if(!e)return;const o=e.querySelector(r);if(o&&o.contains(s.target))return;m(e,"overlay")}}),document.addEventListener("focusin",t=>{const o=t.target;if(!o||!o.matches?.(e))return;if(!function(t){const e=(t.tagName||"").toLowerCase();return"input"===e||"textarea"===e||"select"===e}(o))return;const n=g(y(o));n&&p(n,o)}),document.addEventListener("keydown",t=>{if(a)return"Escape"===t.key?(t.preventDefault(),void m(a,"escape")):void function(t,e){if("Tab"!==t.key)return;const o=f(e);if(!o.length)return;const n=o[0],r=o[o.length-1],s=document.activeElement;t.shiftKey?s!==n&&s!==e||(t.preventDefault(),r.focus()):s===r&&(t.preventDefault(),n.focus())}(t,a)})})}(),function(){if(!window.RS||!window.RS.register)return void console.warn("[RS] core is missing. Include rs-core.min.js first.");const t="[data-rs-accordion-item]",e="[data-rs-accordion-head]",o="[data-rs-accordion-panel]";function n(t){const e=t.querySelector(o);if(!e)return;const n=function(t){const e=t.getAttribute("data-rs-accordion-offset")||t.closest("[data-rs-accordion-offset]")?.getAttribute("data-rs-accordion-offset")||"0",o=parseInt(e,10);return Number.isFinite(o)?o:0}(t);e.style.maxHeight=e.scrollHeight+n+"px"}function r(t){const n=t.querySelector(e),r=t.querySelector(o);r&&(t.classList.remove("is-open"),n?.classList.remove("is-open"),r.classList.remove("is-open"),r.style.maxHeight="0px",window.RS.emit?.("rs:accordion:close",{item:t}))}function s(s){if(s.classList.contains("is-open"))return void r(s);const i=s.getAttribute("data-rs-accordion-group");i&&document.querySelectorAll(`${t}[data-rs-accordion-group="${CSS.escape(i)}"].is-open`).forEach(t=>{t!==s&&r(t)}),function(t){const r=t.querySelector(e),s=t.querySelector(o);s&&(t.classList.add("is-open"),r?.classList.add("is-open"),s.classList.add("is-open"),n(t),window.RS.emit?.("rs:accordion:open",{item:t}))}(s)}window.RS.register("accordion",function(){document.querySelectorAll(t).forEach(t=>{const r=t.getAttribute("data-rs-accordion-open"),s=t.classList.contains("is-open")||"true"===r,i=t.querySelector(e),c=t.querySelector(o);c&&(s?(t.classList.add("is-open"),i?.classList.add("is-open"),c.classList.add("is-open"),n(t)):c.style.maxHeight="0px")}),document.addEventListener("click",n=>{const r=n.target.closest(t);if(!r)return;const i=function(t){return t.getAttribute("data-rs-accordion-trigger")||t.closest("[data-rs-accordion-trigger]")?.getAttribute("data-rs-accordion-trigger")||"item"}(r);if("head"===i){const t=n.target.closest(e);if(!t||!r.contains(t))return;return void s(r)}if(n.target.closest(o))return;if(n.target.closest("[data-rs-accordion-ignore]"))return;const c=n.target.closest("a,button,input,textarea,select,label");c&&!c.closest(e)||s(r)}),document.addEventListener("keydown",o=>{if("Enter"!==o.key&&" "!==o.key)return;const n=o.target.closest?.(e);if(!n)return;o.preventDefault();const r=n.closest(t);r&&s(r)}),window.addEventListener("resize",()=>{document.querySelectorAll(`${t}.is-open`).forEach(n)}),window.RS.debug?.("accordion ready")})}()}();
//# sourceMappingURL=rs-toolkit.min.js.map
