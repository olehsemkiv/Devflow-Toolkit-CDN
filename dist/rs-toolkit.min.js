!function(){"use strict";var t;t||(t=1,function(){const t=window.RS=window.RS||{};t.version=t.version||"0.1.0",t.modules=t.modules||{},t.debug=function(...t){window.RS_DEBUG&&console.log("[RS]",...t)},t.emit=function(t,e={}){document.dispatchEvent(new CustomEvent(t,{detail:e}))},t.register=function(e,o){e&&"function"==typeof o&&(t.modules[e]=o,t.debug("registered:",e))},t.init=function(){t.debug("init start"),Object.entries(t.modules).forEach(([e,o])=>{try{o(),t.debug("init ok:",e)}catch(t){console.error("[RS] init failed:",e,t)}}),t.debug("init done")}}()),function(){if(!window.RS||!window.RS.register)return void console.warn("[RS] core is missing. Include rs-core.min.js first.");const t="[data-rs-modal]",e="[data-rs-modal-open]",o="[data-rs-modal-close]",n="[data-rs-modal-overlay]",s="[data-rs-modal-content]",r="is-open",i="is-modal-open",c=window.CSS&&CSS.escape||function(t){return String(t).replace(/["\\#.:?[\]()\s]/g,"\\$&")};let l=null,d=null;const a={locked:!1,scrollY:0,prev:{}};function u(t){return!!t&&(!!t.hasAttribute("data-rs-modal-lock")&&function(t){const e=String(t||"").toLowerCase().trim();return"true"===e||"1"===e||"yes"===e}(t.getAttribute("data-rs-modal-lock")))}function f(t){if(!t)return[];const e=(t.querySelector(s)||t).querySelectorAll(["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","[tabindex]:not([tabindex='-1'])"].join(","));return Array.from(e).filter(t=>null!==t.offsetParent)}function m(t,e="close"){if(!t)return;t.classList.remove(r),t.setAttribute("aria-hidden","true"),u(t)&&function(){if(!a.locked)return;const t=document.documentElement,e=document.body;e.style.position=a.prev.bodyPosition||"",e.style.top=a.prev.bodyTop||"",e.style.width=a.prev.bodyWidth||"",e.style.overflow=a.prev.bodyOverflow||"",t.style.overflow=a.prev.htmlOverflow||"",t.classList.remove(i),window.scrollTo(0,a.scrollY),a.locked=!1}();const o=t.getAttribute("data-rs-modal")||null;window.RS.emit("rs:modal:close",{id:o,modal:t,reason:e}),d&&"function"==typeof d.focus&&d.focus(),l===t&&(l=null),d=null}function p(t,e=null){if(!t)return;l&&l!==t&&m(l,"switch"),d=e||null,l=t,t.classList.add(r),t.setAttribute("aria-hidden","false"),t.setAttribute("tabindex","-1"),u(t)&&function(){if(a.locked)return;const t=document.documentElement,e=document.body;a.scrollY=window.scrollY||0,a.prev={htmlOverflow:t.style.overflow,bodyPosition:e.style.position,bodyTop:e.style.top,bodyWidth:e.style.width,bodyOverflow:e.style.overflow},e.style.position="fixed",e.style.top=`-${a.scrollY}px`,e.style.width="100%",e.style.overflow="hidden",t.classList.add(i),a.locked=!0}();const o=t.getAttribute("data-rs-modal")||null;window.RS.emit("rs:modal:open",{id:o,modal:t,trigger:e}),setTimeout(()=>function(t){const e=f(t);e.length?e[0].focus():t.focus?.()}(t),0)}function y(t){const e=t.getAttribute("data-rs-modal-open");if(e)return{type:"id",value:e};const o=t.getAttribute("data-rs-modal-target");return o?{type:"selector",value:o}:null}function w(e){return e?"id"===e.type?(o=e.value)?document.querySelector(`${t}[data-rs-modal="${c(o)}"]`):null:"selector"===e.type?document.querySelector(e.value):null:null;var o}window.RS.register("modal",function(){document.addEventListener("click",r=>{const i=r.target.closest(e);if(i){r.preventDefault();const t=w(y(i));return void(t&&p(t,i))}const c=r.target.closest(o);if(c){const e=c.closest(t);return void(e&&m(e,"button"))}const l=r.target.closest(n);if(l){const e=l.closest(t);if(!e)return;const o=e.querySelector(s);if(o&&o.contains(r.target))return;m(e,"overlay")}}),document.addEventListener("focusin",t=>{const o=t.target;if(!o||!o.matches?.(e))return;if(!function(t){const e=(t.tagName||"").toLowerCase();return"input"===e||"textarea"===e||"select"===e}(o))return;const n=w(y(o));n&&p(n,o)}),document.addEventListener("keydown",t=>{if(l)return"Escape"===t.key?(t.preventDefault(),void m(l,"escape")):void function(t,e){if("Tab"!==t.key)return;const o=f(e);if(!o.length)return;const n=o[0],s=o[o.length-1],r=document.activeElement;t.shiftKey?r!==n&&r!==e||(t.preventDefault(),s.focus()):r===s&&(t.preventDefault(),n.focus())}(t,l)})})}(),function(){if(!window.RS||!window.RS.register)return void console.warn("[RS] core is missing. Include rs-core.min.js first.");const t="[data-rs-accordion-item]",e="[data-rs-accordion-head]",o="[data-rs-accordion-panel]";function n(t){const e=t.querySelector(o);if(!e)return;const n=function(t){const e=t.getAttribute("data-rs-accordion-offset")||t.closest("[data-rs-accordion-offset]")?.getAttribute("data-rs-accordion-offset")||"0",o=parseInt(e,10);return Number.isFinite(o)?o:0}(t);e.style.maxHeight=e.scrollHeight+n+"px"}function s(t){const n=t.querySelector(e),s=t.querySelector(o);s&&(t.classList.remove("is-open"),n?.classList.remove("is-open"),s.classList.remove("is-open"),s.style.maxHeight="0px",window.RS.emit?.("rs:accordion:close",{item:t}))}function r(r){if(r.classList.contains("is-open"))s(r);else{const i=r.getAttribute("data-rs-accordion-group");i&&document.querySelectorAll(`${t}[data-rs-accordion-group="${CSS.escape(i)}"].is-open`).forEach(t=>{t!==r&&s(t)}),function(t){const s=t.querySelector(e),r=t.querySelector(o);r&&(t.classList.add("is-open"),s?.classList.add("is-open"),r.classList.add("is-open"),n(t),window.RS.emit?.("rs:accordion:open",{item:t}))}(r)}}window.RS.register("accordion",function(){document.querySelectorAll(t).forEach(t=>{const s=t.getAttribute("data-rs-accordion-open"),r=t.classList.contains("is-open")||"true"===s,i=t.querySelector(o);i&&(r?(t.classList.add("is-open"),t.querySelector(e)?.classList.add("is-open"),i.classList.add("is-open"),n(t)):i.style.maxHeight="0px")}),document.addEventListener("click",o=>{const n=o.target.closest(e);if(!n)return;const s=n.closest(t);s&&r(s)}),document.addEventListener("keydown",o=>{if("Enter"!==o.key&&" "!==o.key)return;const n=o.target.closest?.(e);if(!n)return;o.preventDefault();const s=n.closest(t);s&&r(s)}),window.addEventListener("resize",()=>{document.querySelectorAll(`${t}.is-open`).forEach(n)}),window.RS.debug?.("accordion ready")})}()}();
//# sourceMappingURL=rs-toolkit.min.js.map
